{
  "ConnectionStrings": {
    "DefaultConnection": "Host=localhost;Database=keycloak_assistant;Username=keycloak;Password=keycloak"
  },
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning",
      "Hangfire": "Information"
    }
  },
  "Serilog": {
    "MinimumLevel": {
      "Default": "Information",
      "Override": {
        "Microsoft": "Warning",
        "System": "Warning",
        "Hangfire": "Information"
      }
    }
  },
  "AllowedHosts": "*",
  "ForwardedHeaders": {
    "KnownProxies": [
      "203.0.113.10",
      "203.0.113.11"
    ],
    "KnownNetworks": [
      "10.240.0.0/16"
    ],
    "ForwardLimit": 2,
    "RequireHeaderSymmetry": false
  },
  "Authentication": {
    "Keycloak": {
      "Authority": "http://auth.local/realms/internal-bank-idm",
      "ClientId": "app-assistant-auth",
      "ClientSecret": "0erw5KJrtSLMQAMaLihtIc0XdgdRIk97",
      "RequireHttpsMetadata": false,
      "ResponseType": "code",
      "UsePkce": true,
      "CallbackPath": "/signin-oidc",
      "SignedOutCallbackPath": "/signout-callback-oidc",
      "PostLogoutRedirectUri": "/",
      "Scopes": [
        "openid",
        "profile",
        "email",
        "roles"
      ],
      "RoleClaim": "realm_access.roles",
      "NameClaim": "preferred_username"
    }
  },
  "KeycloakAdmin": {
    "BaseUrl": "http://auth.local/",
    "Realm": "master",
    "ClientId": "app-admin-assistant",
    "ClientSecret": "IPmsCDSsoXOyDRMG9K1qP3GC3rMu1hul",
    "UseLegacyAuthPath": false
  },
  "RateLimiting": {
    "Enabled": true,
    "AuthRequestsPerMinute": 10,
    "ApiRequestsPerMinute": 100,
    "AdminApiRequestsPerMinute": 500,
    "BlockDurationMinutes": 15
  },
  "TokenValidation": {
    "MaxTokenLifetimeMinutes": 60,
    "ClockSkewSeconds": 30,
    "RequireAudience": true,
    "RequireSignedTokens": true,
    "ValidateLifetime": true,
    "ValidateIssuerSigningKey": true,
    "RequiredClaims": ["sub", "iat", "exp", "aud"]
  },
  "AuditLogging": {
    "Enabled": true,
    "LogAllRequests": false,
    "LogDataChanges": true,
    "LogAuthentication": true,
    "LogKeycloakAccess": true,
    "LogConfluenceOperations": true,
    "MaxRequestBodySize": 4096,
    "ExcludeHeaders": ["Authorization", "Cookie", "X-API-Key", "X-Auth-Token"]
  }
}
